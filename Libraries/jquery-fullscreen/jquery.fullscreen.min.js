!function(e){"use strict";function n(){return document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||!1}function l(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()}var c;e.support.fullscreen="requestFullscreen"in(c=document.documentElement)||"mozRequestFullScreen"in c&&document.mozFullScreenEnabled||"webkitRequestFullScreen"in c,e.fn.fullScreen=function(c){if(!e.support.fullscreen||1!==this.length)return this;if(n())return l(),this;var u,t,r=e.extend({background:"#111",callback:e.noop(),fullscreenClass:"fullScreen"},c),s=this,o=e("<div>",{css:{"overflow-y":"auto",background:r.background,width:"100%",height:"100%"}}).insertBefore(s).append(s);return s.addClass(r.fullscreenClass),(u=o.get(0)).requestFullscreen?u.requestFullscreen():u.mozRequestFullScreen?u.mozRequestFullScreen():u.webkitRequestFullScreen&&u.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT),o.click(function(e){e.target==this&&l()}),s.cancel=function(){return l(),s},t=function(n){n||(e(document).off("fullscreenchange mozfullscreenchange webkitfullscreenchange"),s.removeClass(r.fullscreenClass).insertBefore(o),o.remove()),r.callback&&r.callback(n)},e(document).on("fullscreenchange mozfullscreenchange webkitfullscreenchange",function(){t(n())}),s},e.fn.cancelFullScreen=function(){return l(),this}}(jQuery);